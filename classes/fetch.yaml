checkoutScript: |
    # Downloads the file referenced by URL in $1 into CWD if it does not exist,
    # otherwise updates it to most actual copy (curl -z).
    fetch_file() {
        URL=$1
        FILENAME=$(basename "$URL")
        mkdir -p .
        cd .
        if [ -e "$FILENAME" ] ; then
            curl -sSgLf -o "$FILENAME" -z "$FILENAME" "$URL"
        else
        (
            F=$(mktemp)
            trap 'rm -f $F' EXIT
            curl -sSgLf -o "$F" "$URL"
            mv "$F" "$FILENAME"
        )
        fi
    }
